#############################################
# Pretty i3blocks with icons + Karachi time #
#############################################

# Global defaults
separator=true
separator_block_width=18
markup=pango

# Brightness (scroll to change; requires brightnessctl)
[brightness]
command=/home/siamax/i3-setup/configs/scripts/brightness.sh
interval=1
signal=10

# Volume (left click: mute toggle)
[volume]
command=bash -lc 'if [ "$BLOCK_BUTTON" = 1 ]; then pactl set-sink-mute @DEFAULT_SINK@ toggle; fi; vol=$(pactl get-sink-volume @DEFAULT_SINK@ 2>/dev/null | awk -F/ "NR==1{gsub(/ /,\"\");print $2}"); mute=$(pactl get-sink-mute @DEFAULT_SINK@ 2>/dev/null | awk "{print $2}"); icon="ðŸ”Š"; [ "$mute" = "yes" ] && icon="ðŸ”‡"; [ -z "$vol" ] && vol="--"; echo "$icon $vol"'
interval=2
signal=11

# Battery
[battery]
command=bash -lc 'BAT=$(ls -d /sys/class/power_supply/BAT* 2>/dev/null | head -n1); cap=$(cat "$BAT/capacity" 2>/dev/null || echo "?"); stat=$(cat "$BAT/status" 2>/dev/null || echo ""); icon="ðŸ”‹"; [ "$stat" = "Charging" ] && icon="âš¡"; echo "$icon ${cap}%"'
interval=30

# Network (SSID or Offline)
[network]
command=bash -lc 'ssid=$(iwgetid -r 2>/dev/null); if [ -z "$ssid" ]; then ssid=$(nmcli -t -f ACTIVE,SSID dev wifi 2>/dev/null | awk -F: "/^yes:/ {print $2; exit}"); fi; [ -z "$ssid" ] && echo "ðŸ“¡ Offline" || echo "ðŸ“¶ $ssid"'
interval=10

# Karachi time
[time_karachi]
command=bash -lc 'TZ=Asia/Karachi date "+ðŸ•’ %a %d %b %Y %I:%M %p (Karachi)"'
interval=60
